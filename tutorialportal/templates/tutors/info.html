{% extends "layout.html" %}
{% block content %}
    <div class="accordion" id="InfoBodyAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#CredentialsCollapse"
                        aria-expanded="true" aria-controls="CredentialsCollapse">
                    <h4>Your Credentials</h4>
                </button>
            </h2>
            <div id="CredentialsCollapse" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                 data-bs-parent="#InfoBodyAccordion">
                <div class="accordion-body">

                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#CalendarCollapse" aria-expanded="false" aria-controls="CalendarCollapse">
                    <h4>Weekly Tutorial Schedule</h4>
                </button>
            </h2>
            <div id="CalendarCollapse" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                 data-bs-parent="#InfoBodyAccordion">
                <div class="accordion-body">
                    <div class="table-responsive">
                        <table class="table table-bordered caption-top align-middle" style="text-align: center">
                            <caption>Calendar-view of your weekly schedule (30 mins/slot)</caption>
                            <thead class="table-dark">
                            {% for day in range(8) %}
                                <th scope="col">{{ calendar[0][day] }}</th>
                            {% endfor %}
                            </thead>
                            <tbody>
                            {% for row in range(1, calendar|length) %}
                                {% if calendar[row][1:8] != ['', '', '', '', '', '', ''] %}
                                    <tr>
                                        <th scope="row">{{ calendar[row][0] }}</th>
                                        {% for column in range(1, 8) %}
                                            <td style="white-space: nowrap">{{ calendar[row][column] }}</td>
                                        {% endfor %}
                                    </tr>
                                {% endif %}
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#InsightsCollapse" aria-expanded="false" aria-controls="InsightsCollapse">
                    <h4>Insights and Analytics</h4>
                </button>
            </h2>
            <div id="InsightsCollapse" class="accordion-collapse collapse" aria-labelledby="headingThree"
                 data-bs-parent="#InfoBodyAccordion">
                <div class="accordion-body overflow-auto text-center">
                    <figure class="figure">
                        <img src='data:image/png;base64,{{ monthly_income_chart.get(9) }}'
                             alt="Monthly Income Chart"/>
                        <figcaption class="figure-caption">You can interpret "By Attendance Record" as the
                            expected salary you should receive in the month and "By Payment Record" as the amount that
                            you actually received.
                        </figcaption>
                    </figure>
                    <figure class="figure">
                        <img src='data:image/png;base64,{{ monthly_student_count_chart.get(9) }}'
                             alt="Monthly Student Count Chart"/>
                        <figcaption class="figure-caption">You can interpret the number in each month as the peak number
                            of distinct students attending tutorial sessions.
                        </figcaption>
                    </figure>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}